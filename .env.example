# ===================================================================
# FRONTEND ENVIRONMENT VARIABLES (Required)
# ===================================================================
# These variables are used by the Vite/React frontend application
# They must be prefixed with VITE_ to be exposed to client-side code

# Supabase Configuration
# Get these values from: https://app.supabase.com/ → Your Project → Settings → API

# Your Supabase project URL (looks like: https://xxxxx.supabase.co)
VITE_SUPABASE_URL=https://your-project.supabase.co

# Your Supabase anonymous/public key (starts with: eyJ...)
# This key is safe for frontend use (protected by Row Level Security)
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# Application Base URL
# Used for generating email links, client portal URLs, and OAuth callbacks
# Development: http://localhost:8080
# Production: https://app.ruzma.co (or your custom domain)
VITE_APP_BASE_URL=http://localhost:8080

# ===================================================================
# EDGE FUNCTIONS ENVIRONMENT VARIABLES (Reference Only)
# ===================================================================
# These are set in Supabase Dashboard → Project → Edge Functions → Settings
# DO NOT add these to your local .env file - they're for server-side use only
#
# SUPABASE_URL (auto-injected by Supabase)
# SUPABASE_SERVICE_ROLE_KEY (auto-injected by Supabase - NEVER expose to frontend!)
# RESEND_API_KEY=your-resend-api-key-here (for email sending)
# APP_BASE_URL=https://app.ruzma.co (for email links in production)
# FROM_EMAIL=noreply@ruzma.co (optional - email sender address)
# EMAIL_SERVICE=resend (optional - defaults to 'resend', can be 'sendgrid')
# SENDGRID_API_KEY=your-sendgrid-key (optional - if using SendGrid)
#
# LEMON_SQUEEZY_API_KEY=your-lemon-squeezy-api-key (for subscription payments)
# LEMON_SQUEEZY_WEBHOOK_SECRET=your-webhook-secret (for webhook signature verification)
# Note: Store ID (148628) and Variant IDs (697231=Plus, 697237=Pro) are in code

# ===================================================================
# SETUP INSTRUCTIONS
# ===================================================================
#
# LOCAL DEVELOPMENT:
# 1. Copy this file: cp .env.example .env
# 2. Fill in your actual Supabase credentials above
# 3. Set VITE_APP_BASE_URL=http://localhost:8080
# 4. Never commit the .env file (it's in .gitignore)
#
# PRODUCTION DEPLOYMENT (Vercel):
# 1. Go to: Vercel Dashboard → Your Project → Settings → Environment Variables
# 2. Add these three variables:
#    - VITE_SUPABASE_URL
#    - VITE_SUPABASE_ANON_KEY
#    - VITE_APP_BASE_URL (use your production URL)
# 3. Deploy or redeploy your application
#
# EDGE FUNCTIONS (Supabase):
# 1. Go to: Supabase Dashboard → Your Project → Edge Functions → Settings
# 2. Add required variables:
#    Email: RESEND_API_KEY, FROM_EMAIL (optional), EMAIL_SERVICE (optional)
#    Payments: LEMON_SQUEEZY_API_KEY, LEMON_SQUEEZY_WEBHOOK_SECRET
#    App: APP_BASE_URL (optional - has fallback to https://app.ruzma.co)
# 3. Redeploy functions: supabase functions deploy <function-name>
#
# LEMON SQUEEZY WEBHOOK SETUP:
# 1. Go to: https://app.lemonsqueezy.com/settings/webhooks
# 2. Add webhook URL: https://***REMOVED***.supabase.co/functions/v1/lemon-squeezy-webhook
# 3. Enable these events:
#    - subscription_created
#    - subscription_updated
#    - subscription_cancelled
#    - subscription_expired
#    - subscription_payment_success
#    - subscription_payment_failed
# 4. Copy the webhook secret to LEMON_SQUEEZY_WEBHOOK_SECRET in Edge Function settings
#
# ===================================================================
# SECURITY NOTES
# ===================================================================
# ✅ SAFE for frontend: VITE_SUPABASE_ANON_KEY (protected by RLS)
# ❌ NEVER expose: SUPABASE_SERVICE_ROLE_KEY (full admin access)
# ✅ The .env file is git-ignored and won't be committed
# ✅ Each environment (dev/staging/prod) should have its own values
